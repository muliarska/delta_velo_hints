{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass);\n}\n\nimport { Control } from 'leaflet';\nimport React, { cloneElement, Component, Children, Fragment } from 'react';\nimport { LeafletProvider, withLeaflet } from './context';\nimport MapControl from './MapControl'; // Abtract class for layer container, extended by BaseLayer and Overlay\n\nexport var ControlledLayer = function (_Component) {\n  _inherits(ControlledLayer, _Component);\n\n  function ControlledLayer() {\n    _classCallCheck(this, ControlledLayer);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  ControlledLayer.prototype.componentDidUpdate = function componentDidUpdate(_ref) {\n    var checked = _ref.checked;\n\n    if (this.props.leaflet.map == null) {\n      return;\n    } // Handle dynamically (un)checking the layer => adding/removing from the map\n\n\n    if (this.props.checked === true && (checked == null || checked === false)) {\n      this.props.leaflet.map.addLayer(this.layer);\n    } else if (checked === true && (this.props.checked == null || this.props.checked === false)) {\n      this.props.leaflet.map.removeLayer(this.layer);\n    }\n  };\n\n  ControlledLayer.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.removeLayerControl(this.layer);\n  };\n\n  ControlledLayer.prototype.addLayer = function addLayer() {\n    throw new Error('Must be implemented in extending class');\n  };\n\n  ControlledLayer.prototype.removeLayer = function removeLayer(layer) {\n    this.props.removeLayer(layer);\n  };\n\n  ControlledLayer.prototype.render = function render() {\n    var children = this.props.children;\n    return children ? React.createElement(LeafletProvider, {\n      value: this.contextValue\n    }, children) : null;\n  };\n\n  return ControlledLayer;\n}(Component);\n\nvar BaseLayer = function (_ControlledLayer) {\n  _inherits(BaseLayer, _ControlledLayer);\n\n  function BaseLayer(props) {\n    _classCallCheck(this, BaseLayer);\n\n    var _this2 = _possibleConstructorReturn(this, _ControlledLayer.call(this, props));\n\n    _this2.addLayer = function (layer) {\n      _this2.layer = layer; // Keep layer reference to handle dynamic changes of props\n\n      var _this2$props = _this2.props,\n          addBaseLayer = _this2$props.addBaseLayer,\n          checked = _this2$props.checked,\n          name = _this2$props.name;\n      addBaseLayer(layer, name, checked);\n    };\n\n    _this2.contextValue = _extends({}, props.leaflet, {\n      layerContainer: {\n        addLayer: _this2.addLayer.bind(_this2),\n        removeLayer: _this2.removeLayer.bind(_this2)\n      }\n    });\n    return _this2;\n  }\n\n  return BaseLayer;\n}(ControlledLayer);\n\nvar Overlay = function (_ControlledLayer2) {\n  _inherits(Overlay, _ControlledLayer2);\n\n  function Overlay(props) {\n    _classCallCheck(this, Overlay);\n\n    var _this3 = _possibleConstructorReturn(this, _ControlledLayer2.call(this, props));\n\n    _this3.addLayer = function (layer) {\n      _this3.layer = layer; // Keep layer reference to handle dynamic changes of props\n\n      var _this3$props = _this3.props,\n          addOverlay = _this3$props.addOverlay,\n          checked = _this3$props.checked,\n          name = _this3$props.name;\n      addOverlay(layer, name, checked);\n    };\n\n    _this3.contextValue = _extends({}, props.leaflet, {\n      layerContainer: {\n        addLayer: _this3.addLayer.bind(_this3),\n        removeLayer: _this3.removeLayer.bind(_this3)\n      }\n    });\n    return _this3;\n  }\n\n  return Overlay;\n}(ControlledLayer);\n\nvar LayersControl = function (_MapControl) {\n  _inherits(LayersControl, _MapControl);\n\n  function LayersControl(props) {\n    _classCallCheck(this, LayersControl);\n\n    var _this4 = _possibleConstructorReturn(this, _MapControl.call(this, props));\n\n    _this4.controlProps = {\n      addBaseLayer: _this4.addBaseLayer.bind(_this4),\n      addOverlay: _this4.addOverlay.bind(_this4),\n      leaflet: props.leaflet,\n      removeLayer: _this4.removeLayer.bind(_this4),\n      removeLayerControl: _this4.removeLayerControl.bind(_this4)\n    };\n    return _this4;\n  }\n\n  LayersControl.prototype.createLeafletElement = function createLeafletElement(props) {\n    var _children = props.children,\n        options = _objectWithoutProperties(props, ['children']);\n\n    return new Control.Layers(undefined, undefined, options);\n  };\n\n  LayersControl.prototype.updateLeafletElement = function updateLeafletElement(fromProps, toProps) {\n    _MapControl.prototype.updateLeafletElement.call(this, fromProps, toProps);\n\n    if (toProps.collapsed !== fromProps.collapsed) {\n      if (toProps.collapsed === true) {\n        this.leafletElement.collapse();\n      } else {\n        this.leafletElement.expand();\n      }\n    }\n  };\n\n  LayersControl.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _this5 = this;\n\n    setTimeout(function () {\n      _MapControl.prototype.componentWillUnmount.call(_this5);\n    }, 0);\n  };\n\n  LayersControl.prototype.addBaseLayer = function addBaseLayer(layer, name) {\n    var checked = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (checked && this.props.leaflet.map != null) {\n      this.props.leaflet.map.addLayer(layer);\n    }\n\n    this.leafletElement.addBaseLayer(layer, name);\n  };\n\n  LayersControl.prototype.addOverlay = function addOverlay(layer, name) {\n    var checked = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (checked && this.props.leaflet.map != null) {\n      this.props.leaflet.map.addLayer(layer);\n    }\n\n    this.leafletElement.addOverlay(layer, name);\n  };\n\n  LayersControl.prototype.removeLayer = function removeLayer(layer) {\n    if (this.props.leaflet.map != null) {\n      this.props.leaflet.map.removeLayer(layer);\n    }\n  };\n\n  LayersControl.prototype.removeLayerControl = function removeLayerControl(layer) {\n    this.leafletElement.removeLayer(layer);\n  };\n\n  LayersControl.prototype.render = function render() {\n    var _this6 = this;\n\n    var children = Children.map(this.props.children, function (child) {\n      return child ? cloneElement(child, _this6.controlProps) : null;\n    });\n    return React.createElement(Fragment, null, children);\n  };\n\n  return LayersControl;\n}(MapControl);\n\nLayersControl.BaseLayer = BaseLayer;\nLayersControl.Overlay = Overlay;\nexport default withLeaflet(LayersControl);","map":{"version":3,"sources":["/home/slavko/Desktop/UCU_ files/Homework/Year_02/Part 02/WebDesign/React/main-branch/node_modules/react-leaflet/es/LayersControl.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_defaults","obj","defaults","keys","getOwnPropertyNames","value","getOwnPropertyDescriptor","configurable","undefined","defineProperty","_objectWithoutProperties","indexOf","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","setPrototypeOf","Control","React","cloneElement","Component","Children","Fragment","LeafletProvider","withLeaflet","MapControl","ControlledLayer","_Component","apply","componentDidUpdate","_ref","checked","props","leaflet","map","addLayer","layer","removeLayer","componentWillUnmount","removeLayerControl","Error","render","children","createElement","contextValue","BaseLayer","_ControlledLayer","_this2","_this2$props","addBaseLayer","name","layerContainer","bind","Overlay","_ControlledLayer2","_this3","_this3$props","addOverlay","LayersControl","_MapControl","_this4","controlProps","createLeafletElement","_children","options","Layers","updateLeafletElement","fromProps","toProps","collapsed","leafletElement","collapse","expand","_this5","setTimeout","_this6","child"],"mappings":"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","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nimport { Control } from 'leaflet';\nimport React, { cloneElement, Component, Children, Fragment } from 'react';\n\nimport { LeafletProvider, withLeaflet } from './context';\nimport MapControl from './MapControl';\n\n\n// Abtract class for layer container, extended by BaseLayer and Overlay\nexport var ControlledLayer = function (_Component) {\n  _inherits(ControlledLayer, _Component);\n\n  function ControlledLayer() {\n    _classCallCheck(this, ControlledLayer);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  ControlledLayer.prototype.componentDidUpdate = function componentDidUpdate(_ref) {\n    var checked = _ref.checked;\n\n    if (this.props.leaflet.map == null) {\n      return;\n    }\n    // Handle dynamically (un)checking the layer => adding/removing from the map\n    if (this.props.checked === true && (checked == null || checked === false)) {\n      this.props.leaflet.map.addLayer(this.layer);\n    } else if (checked === true && (this.props.checked == null || this.props.checked === false)) {\n      this.props.leaflet.map.removeLayer(this.layer);\n    }\n  };\n\n  ControlledLayer.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.removeLayerControl(this.layer);\n  };\n\n  ControlledLayer.prototype.addLayer = function addLayer() {\n    throw new Error('Must be implemented in extending class');\n  };\n\n  ControlledLayer.prototype.removeLayer = function removeLayer(layer) {\n    this.props.removeLayer(layer);\n  };\n\n  ControlledLayer.prototype.render = function render() {\n    var children = this.props.children;\n\n    return children ? React.createElement(\n      LeafletProvider,\n      { value: this.contextValue },\n      children\n    ) : null;\n  };\n\n  return ControlledLayer;\n}(Component);\n\nvar BaseLayer = function (_ControlledLayer) {\n  _inherits(BaseLayer, _ControlledLayer);\n\n  function BaseLayer(props) {\n    _classCallCheck(this, BaseLayer);\n\n    var _this2 = _possibleConstructorReturn(this, _ControlledLayer.call(this, props));\n\n    _this2.addLayer = function (layer) {\n      _this2.layer = layer; // Keep layer reference to handle dynamic changes of props\n      var _this2$props = _this2.props,\n          addBaseLayer = _this2$props.addBaseLayer,\n          checked = _this2$props.checked,\n          name = _this2$props.name;\n\n      addBaseLayer(layer, name, checked);\n    };\n\n    _this2.contextValue = _extends({}, props.leaflet, {\n      layerContainer: {\n        addLayer: _this2.addLayer.bind(_this2),\n        removeLayer: _this2.removeLayer.bind(_this2)\n      }\n    });\n    return _this2;\n  }\n\n  return BaseLayer;\n}(ControlledLayer);\n\nvar Overlay = function (_ControlledLayer2) {\n  _inherits(Overlay, _ControlledLayer2);\n\n  function Overlay(props) {\n    _classCallCheck(this, Overlay);\n\n    var _this3 = _possibleConstructorReturn(this, _ControlledLayer2.call(this, props));\n\n    _this3.addLayer = function (layer) {\n      _this3.layer = layer; // Keep layer reference to handle dynamic changes of props\n      var _this3$props = _this3.props,\n          addOverlay = _this3$props.addOverlay,\n          checked = _this3$props.checked,\n          name = _this3$props.name;\n\n      addOverlay(layer, name, checked);\n    };\n\n    _this3.contextValue = _extends({}, props.leaflet, {\n      layerContainer: {\n        addLayer: _this3.addLayer.bind(_this3),\n        removeLayer: _this3.removeLayer.bind(_this3)\n      }\n    });\n    return _this3;\n  }\n\n  return Overlay;\n}(ControlledLayer);\n\nvar LayersControl = function (_MapControl) {\n  _inherits(LayersControl, _MapControl);\n\n  function LayersControl(props) {\n    _classCallCheck(this, LayersControl);\n\n    var _this4 = _possibleConstructorReturn(this, _MapControl.call(this, props));\n\n    _this4.controlProps = {\n      addBaseLayer: _this4.addBaseLayer.bind(_this4),\n      addOverlay: _this4.addOverlay.bind(_this4),\n      leaflet: props.leaflet,\n      removeLayer: _this4.removeLayer.bind(_this4),\n      removeLayerControl: _this4.removeLayerControl.bind(_this4)\n    };\n    return _this4;\n  }\n\n  LayersControl.prototype.createLeafletElement = function createLeafletElement(props) {\n    var _children = props.children,\n        options = _objectWithoutProperties(props, ['children']);\n\n    return new Control.Layers(undefined, undefined, options);\n  };\n\n  LayersControl.prototype.updateLeafletElement = function updateLeafletElement(fromProps, toProps) {\n    _MapControl.prototype.updateLeafletElement.call(this, fromProps, toProps);\n    if (toProps.collapsed !== fromProps.collapsed) {\n      if (toProps.collapsed === true) {\n        this.leafletElement.collapse();\n      } else {\n        this.leafletElement.expand();\n      }\n    }\n  };\n\n  LayersControl.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _this5 = this;\n\n    setTimeout(function () {\n      _MapControl.prototype.componentWillUnmount.call(_this5);\n    }, 0);\n  };\n\n  LayersControl.prototype.addBaseLayer = function addBaseLayer(layer, name) {\n    var checked = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (checked && this.props.leaflet.map != null) {\n      this.props.leaflet.map.addLayer(layer);\n    }\n    this.leafletElement.addBaseLayer(layer, name);\n  };\n\n  LayersControl.prototype.addOverlay = function addOverlay(layer, name) {\n    var checked = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (checked && this.props.leaflet.map != null) {\n      this.props.leaflet.map.addLayer(layer);\n    }\n    this.leafletElement.addOverlay(layer, name);\n  };\n\n  LayersControl.prototype.removeLayer = function removeLayer(layer) {\n    if (this.props.leaflet.map != null) {\n      this.props.leaflet.map.removeLayer(layer);\n    }\n  };\n\n  LayersControl.prototype.removeLayerControl = function removeLayerControl(layer) {\n    this.leafletElement.removeLayer(layer);\n  };\n\n  LayersControl.prototype.render = function render() {\n    var _this6 = this;\n\n    var children = Children.map(this.props.children, function (child) {\n      return child ? cloneElement(child, _this6.controlProps) : null;\n    });\n    return React.createElement(\n      Fragment,\n      null,\n      children\n    );\n  };\n\n  return LayersControl;\n}(MapControl);\n\nLayersControl.BaseLayer = BaseLayer;\nLayersControl.Overlay = Overlay;\n\n\nexport default withLeaflet(LayersControl);"]},"metadata":{},"sourceType":"module"}